<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Btapps Guide</title>

    <meta name="description" content="A presentation that introduce Btapps to the world">
    <meta name="author" content="Luis Porras">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">
    <link rel="stylesheet" href="css/theme/custom.css" id="theme-override">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">

        <section>
          <h1>Build <span class="min">BitTorrent</span> Web Apps</h1>
          <br/>
          <br/>
          <p>
            <small>
              Created by <a href="https://github.com/lporras">Luis Porras</a> / <a href="http://twitter.com/lporras16">@lporras16</a>
              </br>
              <img src="images/profile-avatar.jpg" width="100px">
            </small>
            </br>
            <small>Software Developer at <strong><a href="http://selfie.com/">Selfie Inc</a></strong></small>
          </p>
          <br/>
          <br/>
          <br/>
        </section>

        <section>
          <h2><a href="http://btappjs.com/index.html"><img src="images/Btapp.js-logo.png" style="background-color:white;"></a></h2>

          <div class="fragment">
            <div class="bs-docs-social">
              <div class="container">
                <ul class="bs-docs-social-buttons">
                  <li>
                    <iframe class="github-btn" src="http://ghbtns.com/github-btn.html?user=bittorrenttorque&amp;repo=btapp&amp;type=watch&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="100px" height="20px"></iframe>
                  </li>
                  <li>
                    <iframe class="github-btn" src="http://ghbtns.com/github-btn.html?user=bittorrenttorque&amp;repo=btapp&amp;type=fork&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="98px" height="20px"></iframe>
                  </li>
                  <li class="follow-btn">
                    <iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/follow_button.1368146021.html#_=1369276897359&amp;id=twitter-widget-1&amp;lang=en&amp;screen_name=pwmckenna&amp;show_count=true&amp;show_screen_name=true&amp;size=m" class="twitter-follow-button twitter-follow-button" style="width: 235px; height: 20px;" title="Twitter Follow Button" data-twttr-rendered="true"></iframe>
                  </li>
                  <li class="tweet-btn">
                    <iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.1368146021.html#_=1369276897353&amp;count=horizontal&amp;id=twitter-widget-0&amp;lang=en&amp;original_referer=http%3A%2F%2Fbtappjs.com%2Findex.html&amp;related=pwmckenna%3ACreator%20of%20Btapp&amp;size=m&amp;text=Btapp.js&amp;url=http%3A%2F%2Fbtappjs.com&amp;via=btappjs" class="twitter-share-button twitter-count-horizontal" style="width: 107px; height: 20px;" title="Twitter Tweet Button" data-twttr-rendered="true"></iframe>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <section>

          <h2>What is Btapp.js?</h2>

          <br/>
          <br/>
          <ul>
            <li class='fragment' data-fragment-index='1'>Javascript Library built on top of Backbone.js</li>
            <li class="fragment" data-fragment-index='2'>Brought to you by BitTorrent Inc.</li>
            <li class="fragment" data-fragment-index='3'>Brings you more than just downloads</li>
          </ul>

        </section>

        <section>

          <h2>Interesting Features</h2>

          <br/>
          <br/>
          <ul>
            <li class="fragment" data-fragment-index='1'>Includes: <a href="javascript:;">Torque</a>, a headless torrent client</li>
            <li class="fragment" data-fragment-index='2'>Compatibility with alpha branches of <a href="javascript:;">BitTorrent</a> and <a href="http://download.utorrent.com/latest/uTorrent-alpha.exe"><strong>uTorrent</strong> (version 3.3 and later)</a></li>
            <li class="fragment" data-fragment-index='3'>Stream while the torrent download is in progress</li>
            <li class="fragment" data-fragment-index='4'>Move files to <a href="javascript:;">iTunes</a></li>
            <li class="fragment" data-fragment-index='5'>Selective File Downloads</li>
          </ul>

        </section>

        <section data-state="blackout">
          <h2 style="position:fixed;top:35%;left:25%;">Dependencies</h2>
        </section>

        <section>
          <section>
            <h2>Dependencies</h2>
            <p>Btapp.js has hard dependencies on <a href="https://github.com/jquery/jquery" target="_blank">jQuery</a>, <a href="https://github.com/documentcloud/backbone" target="_blank">Backbone</a>, <a href="https://github.com/douglascrockford/JSON-js" target="_blank">Json2</a> and <a href="https://github.com/andris9/jStorage" target="_blank">jStorage</a>
            </p>
            <br/>
            <br/>
            <pre class="fragment" style="width:1075px"><code class="" contenteditable>
<ul class=""><li class="L0"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"http://code.jquery.com/jquery-1.7.2.min.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">  </span></li><li class="L1"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"http://cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">  </span></li><li class="L2"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"http://underscorejs.org/underscore-min.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">  </span></li><li class="L3"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"http://backbonejs.org/backbone-min.js"</span><span class="tag">&gt;&lt;/script&gt;</span></li><li class="L4"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"https://raw.github.com/andris9/jStorage/master/jstorage.js"</span><span class="tag">&gt;&lt;/script&gt;</span></li></ul>
              </code></pre>
          </section>
          <section>
            <h2>Dependencies</h2>
            <br/>
            <br/>
            <p><a href="https://github.com/bittorrenttorque/backbrace">Backbrace</a> is also heavily recommended, to alleviate some of the trouble you might have using deep trees of Backbone models and collections.</p>
            <br/>
            <pre class="fragment" style="width:1075px"><code class="" contenteditable>
<ul class="linenums"><li class="L0"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"https://raw.github.com/bittorrenttorque/backbrace/master/backbrace.js"</span><span class="tag">&gt;&lt;/script&gt;</span></li></ul>
            </code></pre>
          </section>
        </section>

        <section>

          <section>
            <h2>Source</h2>
            <br/>
            <br/>
            <pre class="fragment" style="width:1075px"><code class="" contenteditable>
<ul class="linenums"><li class="L0"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"http://torque.bittorrent.com/btapp/btapp.min.js"</span><span class="tag">&gt;&lt;/script&gt;</span></li></ul>
            </code></pre>
            <br/>
            <br/>
            <p class="fragment">
              or...
              <a class="btn btn-large" href="https://github.com/bittorrenttorque/btapp/zipball/master">Download Btapp.js source</a>
            </p>
          </section>

        </section>

        <section data-state="blackout">
          <h2 style="position:fixed;top:35%;left:25%;">Api Compatibility</h2>
        </section>

        <section>

          <section>
            <h2>Api Compatibility</h2>
            <br/>
            <p class="fragment">
              By default, the api will try to use <a href="javascript:;">Torque</a>
            </p>
            <br/>
            <br/>
            <p class="fragment">which means, it facilitates the installation of a <a href="javascript:;">browser plugin</a>, and the underlying <a href="javascript;">torrent client</a> if it isn't already available.</p>
          </section>

          <section>
            <h2>Connect to Torrent Clients</h2>
            <br/>
            <div class="fragment">
              <h3>Torque</h3>
              <pre style=""><code contenteditable>
//Connecting with Torque (by default)
var btapp = new Btapp;
btapp.connect();
              </code></pre>
            </div>
            <div class="fragment">
              <p>Or...</p>
              <pre class="fragment" style=""><code contenteditable>
//Using plugin sintax
var btapp = new Btapp;
btapp.connect({
  product: 'Torque'
  plugin: true
});
              </code></pre>
            </div>
          </section>

          <section>
            <h2>Connect to Torrent Clients</h2>
            <div class="fragment">
              <h3>uTorrent</h3>
              <pre class="fragment" style=""><code contenteditable>
var btapp = new Btapp;
btapp.connect({
  product: 'uTorrent',
  plugin: false,
  pairing_type: 'native'
});
              </code></pre>
            </div>
            <div class="fragment">
              <h3>BitTorrent</h3>
              <pre class="fragment" style=""><code contenteditable>
var btapp = new Btapp;
btapp.connect({
  product: 'BitTorrent',
  plugin: false,
  pairing_type: 'native'
});
            </code></pre>
            </div>
          </section>

        </section>

        <section data-state="blackout">
          <div style="position:fixed;top:35%;left:25%;">
            <h2>Code Snippets</h2>
          </div>
        </section>

        <section>

          <section>
            <h2>Asynchronous Warning</h2>
            <div class="fragment">
              <p>Don't</p>
              <pre><code contenteditable>
var btapp = new Btapp();
btapp.connect();

btapp.get('torrent').each(function(torrent) {
  torrent.remove();
});
            </code></pre>
            </div>
            <div class="fragment">
              <p>Do</p>
              <pre><code contenteditable>
var btapp = new Btapp();
btapp.connect();

// This code will wait for the traditional backbone add event to be thrown.
// We can listen to a specific attribute (in this case torrent) by adding :attribute
btapp.on('add:torrent', function(torrents) {
  torrents.each(function(torrent) {
    torrent.remove();
  });
});
            </code></pre>
            </div>
          </section>

          <section>
            <h2>Adding a torrent</h2>
            <br/>
            <br/>
            <div class="fragment">
              <pre><code contenteditable>
var magnet = 'magnet:?xt=urn:btih:f0d665f264393a7dafd7d05d739e1097df652e80&dn=The.Yes.Men.Fix.The.World';

//var url = 'http://vodo.net/media/torrents/Deadside.Pilot.2012.720p.x264-VODO.torrent';

var callback = function() {
  alert('added the torrent');
};

btapp.get('add').torrent({
  url: magnet,
  callback: callback
});
            </code></pre>
            </div>
          </section>

          <section>
            <h2>Set priorities</h2>
            <br/>
            <br/>
            <div class="fragment">
              <pre><code contenteditable>
// To add a torrent and stop after the torrent file has been added (or the magnet link has resolved to a torrent file), try the following:

var url = 'http://vodo.net/media/torrents/Deadside.Pilot.2012.720p.x264-VODO.torrent';

btapp.get('add').torrent({
  url: url,
  priority: Btapp.TORRENT.PRIORITY.METADATA_ONLY
});
            </code></pre>
            </div>
          </section>

          <section>
            <h2>Torrent Files</h2>
            <br/>
            <br/>
            <div class="fragment">
              <pre><code contenteditable>
var files = btapp.get('torrent').get('D9C70109CB05C181F9EC9373BE876A0D40C4D7B0').get('file');

> files.pluck('id');

 ["Deadside.2012.720p.x264-VODO.mkv", "Want.to.see.what.happens.next.url", "vodo.nfo"]
            </code></pre>
            </div>
          </section>

          <section style="position: relative;">
            <h2>Torrent download percentage</h2>
            <br/>
            <br/>
            <div class="fragment" style="position: absolute; top: 100px; left: -100px;">
              <pre style="width:100%;"><code contenteditable style="max-height: 500px;">
var btapp = new Btapp;
btapp.connect();

var url = 'http://vodo.net/media/torrents/Deadside.Pilot.2012.720p.x264-VODO.torrent';

btapp.live('add', function(add) {
  add.torrent(url);
});

btapp.live('torrent * properties download_url', function(download_url, properties) {
  // Only interested in the torrent that has a download_url that matches the location we provided
  if(download_url == url) {
    var name = properties.get('name');
    // We found our torrent!
    // Now lets listen for progress changes
    properties.on('change:progress', function(progress) {
      // We have an update!
      alert('Download progress for ' + name + ': ' + progress);
    });
  }
});
            </code></pre>
            </div>
          </section>

        </section>

        <section data-state="blackout">
          <div style="position:fixed;top:35%;left:25%;">
            <h2>Live Examples?</h2>
          </div>
        </section>

        <section style="">
          <div style="height: 800px;overflow: hidden;position: absolute; top:-70px;">
            <iframe id="" src="http://torque.bittorrent.com/labs/" width="100%" style="height: 800px;width: 1000px;"></iframe>
          </div>
        </section>

        <section data-state="blackout">
          <div style="position:fixed;top:35%;left:25%;">
            <h2>Other Material</h2>
          </div>
        </section>

        <section>
          <iframe src="http://player.vimeo.com/video/49047352" width="500" height="313" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe> <p><a href="http://vimeo.com/49047352">Live Coding: DHT App using btapp.js</a> from <a href="http://vimeo.com/pwmckenna">Patrick Williams</a> on <a href="http://vimeo.com">Vimeo</a>.</p>
        </section>

        <section data-state="blackout">
          <div style="position:fixed;top:35%;left:25%;">
            <h2>Questions?</h2>
          </div>
        </section>

        <section data-state="blackout">
          <div style="position:fixed;top:35%;left:25%;">
            <h2>Thanks</h2>
          </div>
        </section>



      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
